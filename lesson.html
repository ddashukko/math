<!doctype html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —É—Ä–æ–∫—É...</title>

    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/lesson.css" />
    <link rel="stylesheet" href="css/board.css" />

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["$", "$"],
            ["\\(", "\\)"],
          ],
        },
        svg: { fontCache: "global" },
      };
    </script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
  </head>
  <body class="board-hidden">
    <div id="loader-overlay">
      <div class="loader-content">
        <div class="spinner"></div>
        <h2 id="loader-text">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</h2>
        <div class="progress-line">
          <div id="loader-bar" class="progress-fill"></div>
        </div>
        <p id="loader-percent">0%</p>
      </div>
    </div>
    <header>
      <div style="display: flex; align-items: center; gap: 15px">
        <a href="index.html" class="btn-home">‚Üê –ú–µ–Ω—é</a>
        <div id="lesson-title" style="font-weight: 700">...</div>
      </div>

      <a
        href="admin.html"
        id="teacher-btn"
        class="btn-teacher"
        style="display: none"
      >
        –ö–∞–±—ñ–Ω–µ—Ç
      </a>

      <button
        onclick="toggleBoard()"
        class="btn-board-toggle"
        title="–ü–æ–∫–∞–∑–∞—Ç–∏/–°—Ö–æ–≤–∞—Ç–∏ –¥–æ—à–∫—É"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
          <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
          <path d="M2 2l7.586 7.586"></path>
          <circle cx="11" cy="11" r="2"></circle>
        </svg>
        <span>–î–æ—à–∫–∞</span>
      </button>
    </header>

    <div id="app-wrapper">
      <div id="tasks-section">
        <div class="container" style="margin: 0; width: 100%; max-width: none">
          <div id="quiz-root"></div>

          <div id="lesson-footer" class="footer-nav"></div>
        </div>
      </div>

      <div id="board-section">
        <div class="tools-panel">
          <button
            id="btn-pen"
            class="tool-btn active"
            onclick="setTool('pen')"
            title="–†—É—á–∫–∞"
          >
            üñäÔ∏è
          </button>
          <button
            id="btn-eraser"
            class="tool-btn"
            onclick="setTool('eraser')"
            title="–ì—É–º–∫–∞"
          >
            üßπ
          </button>
          <button
            class="tool-btn"
            onclick="clearBoard()"
            title="–û—á–∏—Å—Ç–∏—Ç–∏"
            style="color: red"
          >
            ‚ùå
          </button>
        </div>
        <canvas id="board"></canvas>
      </div>
    </div>
    <div id="modal-overlay" class="modal-overlay">
      <div class="modal-content">
        <div class="score-circle" id="final-score">0%</div>
        <h2 style="margin-bottom: 10px">–ß—É–¥–æ–≤–∞ —Ä–æ–±–æ—Ç–∞! üéâ</h2>
        <p id="final-text" style="color: #64748b; margin-bottom: 24px">...</p>

        <a
          href="index.html"
          class="btn-home"
          style="background: #4f46e5; color: white; display: inline-block"
          >–ù–∞ –≥–æ–ª–æ–≤–Ω—É</a
        >
        <button
          onclick="
            document.getElementById('modal-overlay').classList.remove('active')
          "
          style="
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            margin-top: 10px;
            text-decoration: underline;
          "
        >
          –ó–∞–ª–∏—à–∏—Ç–∏—Å—å —Ç—É—Ç
        </button>
      </div>
    </div>

    <script type="module" src="js/engine.js"></script>
    <script src="js/board.js"></script>
  </body>
</html>
